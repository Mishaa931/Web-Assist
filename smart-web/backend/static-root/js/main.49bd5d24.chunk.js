(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,a,t){e.exports=t.p+"static/media/webassist-logo.4496f661.png"},20:function(e,a,t){e.exports=t(44)},28:function(e,a,t){},29:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(15),s=t.n(l),c=(t(28),t(45)),o=(t(29),t(16)),i=t.n(o),m=t(6),u=t(4);var d=e=>{let{query:a,setQuery:t,handleSearch:l}=e;const[s,c]=Object(r.useState)(!1),[o,d]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{const e=()=>{const e=window.scrollY>96;c(e)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),n.a.createElement("div",{className:"header".concat(s?" navbar show":"")},n.a.createElement("img",{src:i.a,width:60,height:30,alt:"WebAssist"}),n.a.createElement("div",{className:"search-bar",onFocus:()=>{d(!0),document.querySelector(".search-bar").classList.add("focused")},onBlur:()=>{d(""!==a),document.querySelector(".search-bar").classList.remove("focused")}},o&&n.a.createElement(m.a,{icon:u.f,className:"search-icon"}),n.a.createElement("input",{type:"text",placeholder:"Search",value:a,onChange:e=>t(e.target.value),onKeyPress:e=>{"Enter"===e.key&&l()}}),a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:()=>{t(""),d(!1)}},n.a.createElement("span",{title:"Clear"},n.a.createElement(m.a,{icon:u.g,className:"clear-icon"}))),n.a.createElement("span",{className:"separation"})),n.a.createElement("button",null,n.a.createElement("span",{title:"Filter"},n.a.createElement(m.a,{icon:u.d,className:"filter-icon"}))),n.a.createElement("button",null,n.a.createElement("span",{title:"Rewrite Query"},n.a.createElement(m.a,{icon:u.e,className:"rewrite-icon"}))),n.a.createElement("button",{onClick:l},n.a.createElement("span",{title:"Search"},n.a.createElement(m.a,{icon:u.a,className:"arrow-icon"})))))};var p=e=>{let{results:a}=e;return n.a.createElement("div",{className:"results"},n.a.createElement("ul",null,a.map((e,a)=>n.a.createElement("li",{key:a},n.a.createElement("div",{id:"r1",className:"wrapper"},n.a.createElement("div",{className:"iconContainer"},n.a.createElement("img",{src:e.icon,className:"siteicon",alt:""})),n.a.createElement("div",{className:"textContainer"},n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"site"},e.site),n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"link"},e.sitelink))),n.a.createElement("div",{className:"r2"},n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"title"},e.title),n.a.createElement("p",{className:"text"},e.snippet))))))};var g=e=>{let{currentPage:a,totalPages:t,handlePageChange:r}=e;return n.a.createElement("div",{className:"footer"},n.a.createElement("span",null,"WebAssist"),n.a.createElement("div",{className:"pagination"},(()=>{const e=[];a>1&&e.push(n.a.createElement("button",{key:"prev",onClick:()=>r(a-1)},n.a.createElement(m.a,{icon:u.b})));for(let l=1;l<=t;l++)e.push(n.a.createElement("button",{key:l,onClick:()=>r(l),className:a===l?"active":""},l));return a<t&&e.push(n.a.createElement("button",{key:"next",onClick:()=>r(a+1)},n.a.createElement(m.a,{icon:u.c}))),e})()))};var E=e=>{let{handleSearch:a,recentSearches:t}=e;return n.a.createElement("div",{className:"recents-panel"},n.a.createElement("h3",null,"Recents"),["Today","Yesterday","Previous 7 Days","Previous 30 Days","January","February","March","April","May","June","July","August","September","October","November","December","Older"].map(e=>{const r=t.filter(a=>{const{timestamp:t}=a;return((e,a)=>0===e?"Today":1===e?"Yesterday":e<=7?"Previous 7 Days":e<=30?"Previous 30 Days":e<=365?["January","February","March","April","May","June","July","August","September","October","November","December"][Math.floor(e/30)-1]:new Date(a).getFullYear().toString())((e=>{const a=new Date,t=new Date(e);return Math.round(Math.abs((a-t)/864e5))})(t))===e});return r.length>0?n.a.createElement("div",{key:e},n.a.createElement("h4",null,e),n.a.createElement("ul",null,r.map(e=>n.a.createElement("li",{key:e.id,onClick:()=>(e=>{a(e)})(e.query)},e.query)))):null}))},h=t(5);t(35);var y=t(17),v=t.n(y);t(40);var b=function(){return n.a.createElement("div",{className:"loading-screen"},n.a.createElement(v.a,{type:"spinningBubbles",color:"#031C30",height:80,width:80}))};t(41);var f=e=>{let{setIsAuthenticated:a}=e;const[t,l]=Object(r.useState)("signin"),[s,o]=Object(r.useState)(""),[i,m]=Object(r.useState)(""),[u,d]=Object(r.useState)(""),[p,g]=Object(r.useState)(),E=()=>{l("signin"===t?"signup":"signin")};return n.a.createElement("div",{className:"Auth-form-container"},"Passed"===p?n.a.createElement(b,null):"",n.a.createElement("form",{className:"Auth-form ".concat("signup"===t?"signup":""),onSubmit:async e=>{e.preventDefault(),g("Passed");const r="signin"===t?"login":"signup";try{"signup"===r?await(async(e,a,t,r)=>{try{await c.a.post("http://localhost:8000/api/signup/",{fullName:e,email:a,password:t}).then(e=>{200===e.status&&(h.NotificationManager.success("Sign-up success","Success",void 0,!0),localStorage.setItem("authToken",e.data.token),r(!0))})}catch(n){console.error("Sign-up error:",n.response.data),n.response&&400===n.response.status&&"Email is already registered"===n.response.data.error?h.NotificationManager.error("User with this email already exists. Please use a different email or log in.","Error"):h.NotificationManager.error("An error occurred during sign-up. Please try again later.","Error")}})(s,i,u,a):await(async(e,a,t)=>{try{await c.a.post("http://localhost:8000/api/login/",{email:e,password:a}).then(e=>{200===e.status&&(h.NotificationManager.success("Login success","Success",void 0,!0),localStorage.setItem("authToken",e.data.token),t(!0))})}catch(r){console.error("Login error:",r.response.data),r.response&&400===r.response.status&&"Invalid credentials"===r.response.data.error?h.NotificationManager.error("Invalid credentials. Please check your email and password.","Error"):h.NotificationManager.error("An error occurred during login. Please try again later.","Error")}})(i,u,a)}catch(n){console.error("Bad Request:",n)}finally{setTimeout(()=>{g("Failed")},100)}},method:"post"},n.a.createElement("div",{className:"Auth-form-content"},n.a.createElement("h3",{className:"Auth-form-title"},"signin"===t?"Sign In":"Sign Up"),n.a.createElement("div",{className:"text-center"},"signin"===t?n.a.createElement(n.a.Fragment,null,"Not registered yet?"," ",n.a.createElement("span",{className:"link-primary",onClick:E},"Sign Up")):n.a.createElement(n.a.Fragment,null,"Already registered?"," ",n.a.createElement("span",{className:"link-primary",onClick:E},"Sign In"))),"signup"===t&&n.a.createElement("div",{className:"form-group mt-3"},n.a.createElement("label",null,"Full Name"),n.a.createElement("input",{type:"text",className:"form-control mt-1",placeholder:"e.g Jane Doe",value:s,onChange:e=>o(e.target.value)})),n.a.createElement("div",{className:"form-group mt-3"},n.a.createElement("label",null,"Email address"),n.a.createElement("input",{type:"email",className:"form-control mt-1",placeholder:"e.g janedoe@example.com",value:i,onChange:e=>m(e.target.value)})),n.a.createElement("div",{className:"form-group mt-3"},n.a.createElement("label",null,"Password"),n.a.createElement("input",{type:"password",className:"form-control mt-1",placeholder:"At least 8 characters",value:u,onChange:e=>d(e.target.value)})),n.a.createElement("div",{className:"d-grid gap-2 mt-3"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"signin"===t?"Sign In":"Sign Up")),"signin"===t&&n.a.createElement("p",{className:"mt-2"},n.a.createElement("a",{href:"#"},"Forgot password?")))),n.a.createElement(h.NotificationContainer,{position:"top-left"}))};t(42);var N=function(){const[e,a]=Object(r.useState)(!1),[t,l]=Object(r.useState)(""),[s,o]=Object(r.useState)([]),[i,m]=Object(r.useState)(1),[u,h]=Object(r.useState)(1),[y,v]=Object(r.useState)([]),b=async()=>{try{const a=await c.a.get("http://localhost:8000/api/search/".concat(encodeURIComponent(t),"/?page=").concat(i));o(a.data.results),h(a.data.total_pages),v(e=>[{id:e.length+1,query:t,timestamp:new Date},...e])}catch(e){console.error("Error fetching search results:",e)}};return n.a.createElement("div",{className:"App"},e?n.a.createElement(n.a.Fragment,null,n.a.createElement(d,{query:t,setQuery:l,handleSearch:b}),n.a.createElement("div",{className:"main"},n.a.createElement(p,{results:s}),s.length>0&&n.a.createElement(g,{currentPage:i,totalPages:u,handlePageChange:e=>{m(e),b()}}),n.a.createElement(E,{handleSearch:b,recentSearches:y}))):n.a.createElement(f,{setIsAuthenticated:a}))};var S=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then(a=>{let{getCLS:t,getFID:r,getFCP:n,getLCP:l,getTTFB:s}=a;t(e),r(e),n(e),l(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null))),S()}},[[20,1,2]]]);
//# sourceMappingURL=main.49bd5d24.chunk.js.map